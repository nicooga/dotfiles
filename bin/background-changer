#!/usr/bin/perl -w
# Random wallpaper picker

use strict;
use warnings;

my $searchPath = '/home/cygnus/Pictures/Wallpaper/';   # Set to the directory you want to have searched for photos
my $switchTime = 60 * 10;               # Edit to the number of seconds between photo switches

my @photos = `find $searchPath -type f | grep [jJ][pP][eE]*[gG]`;             
chomp(@photos);
my $photo;

while(1)
{
    $photo = $photos[rand($#photos)];
    `gsettings set org.gnome.desktop.background picture-uri "file:///$photo"`;
    sleep($switchTime);
}